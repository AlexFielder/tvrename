//
// Main website for TVRename is http://tvrename.com
//
// Source code available at http://code.google.com/p/tvrename/
//
// This code is released under GPLv3 http://www.gnu.org/licenses/gpl.html
//

namespace TVRename
{
//C++ TO C# CONVERTER WARNING: The declaration of the following method implementation was not found:
//ORIGINAL LINE: DownloadProgress::DownloadProgress(TVDoc ^doc)

//C++ TO C# CONVERTER WARNING: The declaration of the following method implementation was not found:
//ORIGINAL LINE: void DownloadProgress::bnCancel_Click(object^ sender, System::EventArgs^ e)

//C++ TO C# CONVERTER WARNING: The declaration of the following method implementation was not found:
//ORIGINAL LINE: void DownloadProgress::tmrUpdate_Tick(object^ sender, System::EventArgs^ e)


//C++ TO C# CONVERTER WARNING: The declaration of the following method implementation was not found:
//ORIGINAL LINE: void DownloadProgress::UpdateStuff()
}


public class DownloadProgress
{
  public DownloadProgress(TVDoc doc)
  {
	InitializeComponent();

	mDoc = doc;
  }
  public void bnCancel_Click(object sender, System.EventArgs e)
  {
	tmrUpdate.Stop();
	mDoc.StopBGDownloadThread();
	this.DialogResult =DialogResult.Abort;
  }
  public void tmrUpdate_Tick(object sender, System.EventArgs e)
  {
	  if (mDoc.DownloadDone)
		  Close();
	  else
		  UpdateStuff();
  }
  public void UpdateStuff()
  {
	  txtCurrent.Text = mDoc.GetTVDB(false,"").CurrentDLTask;
	  pbProgressBar.Value = mDoc.DownloadPct;
  }
}